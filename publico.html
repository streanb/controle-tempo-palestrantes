<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Tempos ao Vivo</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .palestrante { margin-bottom: 20px; font-size: 1.5em; }
  </style>
</head>
<body>
  <h2>Tempos dos Palestrantes (ao vivo)</h2>
  <div id="container"></div>

  <script type="module">
    import { db } from './firebase-config.js';
    import { ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const container = document.getElementById('container');
    const palestrantes = ["Palestrante 1", "Palestrante 2", "Palestrante 3", "Palestrante 4", "Palestrante 5"];

    function formatarTempo(seg) {
      const m = Math.floor(seg / 60).toString().padStart(2, '0');
      const s = (seg % 60).toString().padStart(2, '0');
      return `${m}:${s}`;
    }

    palestrantes.forEach((nome, i) => {
      const div = document.createElement('div');
      div.className = 'palestrante';
      div.id = `tempo-${i}`;
      div.textContent = `${nome}: 00:00`;
      container.appendChild(div);

      const tempoRef = ref(db, 'tempos/' + nome);
      onValue(tempoRef, (snapshot) => {
        const data = snapshot.val();
        if (data) {
          div.textContent = `${nome}: ${formatarTempo(data.tempoRestante)}`;
        }
      });
    });
  </script>
</body>
</html>
