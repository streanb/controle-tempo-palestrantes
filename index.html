<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Tempos dos Palestrantes</title>
</head>
<body>
<h1>Tempos dos Palestrantes</h1>
<div id="tempos"></div>

<script type="module">
  import { db } from './firebase-config.js';
  import { ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

  const container=document.getElementById('tempos');
  const palestrantes=['Partido 1','Partido 2','Partido 3','Partido 4','Partido 5'];

  function formatarTempo(seg){const m=Math.floor(seg/60).toString().padStart(2,'0');const s=(seg%60).toString().padStart(2,'0');return `${m}:${s}`;}

  palestrantes.forEach((nome,i)=>{
    const div=document.createElement('div');
    div.innerHTML=`<h3>${nome}</h3><p id="tempo${i}">00:00</p>`;
    container.appendChild(div);
    onValue(ref(db,'tempos/'+nome),snapshot=>{
      const dados=snapshot.val();
      document.getElementById(`tempo${i}`).textContent=dados && dados.tempoRestante!=undefined ? formatarTempo(dados.tempoRestante) : '00:00';
    });
  });
</script>
</body>
</html>
